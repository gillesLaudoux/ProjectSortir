{% extends 'base.html.twig' %}
{% block title %}Welcome !{% endblock %}
{% block body %}
    <h1>Filtrer les sorties :</h1>
    {#    <label for="campus-select">Choisir un campus:</label> #}
    {#    <select name="filtre" id="#"> #}
    {#        #}{#        <option value="{{ app.user.campus.name }}">Campus par defaut : {{ app.user.campus.name }}</option> #}
    {#        {% for nightOut in nightOutList %} #}
    {#            <option value="{{ nightOut.campus.name }}">{{ nightOut.campus.name }}</option> #}
    {#        {% endfor %} #}
    {#    </select> #}
    {#  -------AFFICHER LE FORMULAIRE (SAISIE DES FILTRES)------- #}{#
{{ form_start(filterForm) }}
    <label for="is_organizer">Dont vous êtes l'organisateur</label>
    <input type="checkbox" class="night_out_filter form_filter checkbox" name="is_organizer" id="is_organizer">
    <label for="is_participant">Auxquels vous participez</label>
    <input type="checkbox" name="is_participant" id="is_participant" class="night_out_filter form_filter checkbox">
    <label for="not_participant">Auxquels vous ne participez pas</label>
    <input type="checkbox" name="not_participant" id="not_participant" class="night_out_filter form_filter checkbox">
    <button>Envoyer</button>
{{ form_end(filterForm) }} #}
    <form action="">
        <label for="is_organizer">Dont vous êtes l'organisateur</label>
        <input type="checkbox" class="night_out_filter form_filter checkbox" name="is_organizer" id="is_organizer">
        <label for="is_participant">Auxquels vous participez</label>
        <input type="checkbox" name="is_participant" id="is_participant" class="night_out_filter form_filter checkbox">
        <label for="not_participant">Auxquels vous ne participez pas</label>
        <input type="checkbox" name="not_participant" id="not_participant"
               class="night_out_filter form_filter checkbox">
        <label for="filter_night_out_name">Le nom de la sortie contient :</label>
        <input type="text" id="filter_night_out_name" name="filter_night_out_name">
        <label for="filter_night_out_campus">Campus :</label>
        <select name="filter_night_out_campus" id="filter_night_out_campus">
            {% for campus in campusList %}
                <option value="{{ campus.name }}">{{ campus.name }}</option>
            {% endfor %}
        </select>
        <label for="filter_night_out_startTime">Entre le </label>
        <input type="datetime-local" id="filter_night_out_startTime" name="filter_night_out_startTime">
        <label for="filter_night_out_startTime">Et le </label>
        <input type="datetime-local" id="filter_night_out_endTime" name="filter_night_out_endTime">
        <input type="submit" value="Envoyer">
    </form>
    {#  -------AFFICHER LA SORTIE------- #}
    <ul>
        {% for nightOut in nightOutList %}
            <li> {{ nightOut.name }}</li>
            <li>{{ nightOut.campus.name }}</li>
            <li> {{ nightOut.startingTime | date }}</li>
            <li> {{ nightOut.dueDateInscription | date }}</li>
            <li> {{ nightOut.nbInscriptionMax }}</li>
            <li> {{ nightOut.state.libelle }}</li>
            <li> {{ nightOut.organizer.username }}</li>
            {# quand l'utilisateur sera connecté je serais si il est insrit #}
            {#            {% if nightOut in app.user.nightsOut %} #}
            {#                <li>est incrit : ok</li> #}
            {#            {% endif %} #}
        {% endfor %}
    </ul>
{% endblock %}